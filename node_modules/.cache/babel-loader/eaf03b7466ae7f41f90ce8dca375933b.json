{"ast":null,"code":"import _defineProperty from\"E:/7th sem exam/--REACT --/06-sep-2022 my-shop/my-shop/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/7th sem exam/--REACT --/06-sep-2022 my-shop/my-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/7th sem exam/--REACT --/06-sep-2022 my-shop/my-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Editpro(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),record=_useState2[0],setRecord=_useState2[1];var _useParams=useParams(),productId=_useParams.productId;var navigate=useNavigate();useEffect(function(){axios.get(\"http://localhost:3004/products/\"+productId).then(function(res){console.log(res.data);setRecord(res.data);});},[]);var myfunc1=function myfunc1(ev){console.log(ev.target.value);console.log(record);setRecord(_objectSpread(_objectSpread({},record),{},{title:ev.target.value}));};var myfunc2=function myfunc2(ev){console.log(ev.target.value);console.log(record);setRecord(_objectSpread(_objectSpread({},record),{},{price:ev.target.value}));};var myfunc3=function myfunc3(ev){console.log(ev.target.value);console.log(record);setRecord(_objectSpread(_objectSpread({},record),{},{category:ev.target.value}));};var myfunc4=function myfunc4(ev){console.log(ev.target.value);console.log(record);setRecord(_objectSpread(_objectSpread({},record),{},{image:ev.target.value}));};var myfunc5=function myfunc5(ev){console.log(ev.target.value);console.log(record);setRecord(_objectSpread(_objectSpread({},record),{},{description:ev.target.value}));};var myfunc=function myfunc(ev){console.log(ev.target.value);console.log(ev.target.name);var x1=ev.target.name;setRecord(_objectSpread(_objectSpread({},record),{},_defineProperty({},x1,ev.target.value)));};var onsubmit=function onsubmit(ev){ev.preventDefault();//alert(1)\nconsole.log(record);axios.put('http://localhost:3004/products/'+productId,record).then(function(res){//console.log(\"product update\");\n//console.log(res);\nnavigate(\"/show\");//redirect\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onsubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",onChange:myfunc,value:record.title,className:\"form-control\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",onChange:myfunc,value:record.price,className:\"form-control\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"category\",onChange:myfunc,value:record.category,className:\"form-control\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image\",onChange:myfunc,value:record.image,className:\"form-control\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",onChange:myfunc,value:record.description}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"Update\"})]})]});}","map":{"version":3,"names":["axios","React","useEffect","useState","useNavigate","useParams","Editpro","record","setRecord","productId","navigate","get","then","res","console","log","data","myfunc1","ev","target","value","title","myfunc2","price","myfunc3","category","myfunc4","image","myfunc5","description","myfunc","name","x1","onsubmit","preventDefault","put"],"sources":["E:/7th sem exam/--REACT --/06-sep-2022 my-shop/my-shop/src/components/Editpro.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\n\r\nexport default function Editpro() {\r\n    var [record,setRecord]=useState({});\r\n    var {productId}=useParams();\r\n    var navigate = useNavigate();\r\n    useEffect(()=>{\r\n        axios.get(\"http://localhost:3004/products/\"+productId)\r\n        .then(res=>{\r\n            console.log(res.data);  \r\n            setRecord(res.data)\r\n        })\r\n    },[]);\r\n    \r\n    var myfunc1=(ev)=>{\r\n        console.log(ev.target.value);\r\n        console.log(record);\r\n        setRecord({...record,title:ev.target.value})\r\n    }\r\n    var myfunc2=(ev)=>{\r\n        console.log(ev.target.value);\r\n        console.log(record);\r\n        setRecord({...record,price:ev.target.value})\r\n    }\r\n    var myfunc3=(ev)=>{\r\n        console.log(ev.target.value);\r\n        console.log(record);\r\n        setRecord({...record,category:ev.target.value})\r\n    }\r\n    var myfunc4=(ev)=>{\r\n        console.log(ev.target.value);\r\n        console.log(record);\r\n        setRecord({...record,image:ev.target.value})\r\n    }\r\n    var myfunc5=(ev)=>{\r\n        console.log(ev.target.value);\r\n        console.log(record);\r\n        setRecord({...record,description:ev.target.value})\r\n    }\r\n\r\n    var myfunc =(ev)=>{\r\n        console.log(ev.target.value);\r\n        console.log(ev.target.name);\r\n        var x1 =ev.target.name;\r\n        setRecord({...record,[x1]:ev.target.value})\r\n    }\r\n\r\n    var onsubmit = (ev)=>{\r\n        ev.preventDefault();\r\n        //alert(1)\r\n        console.log(record);\r\n        \r\n        axios\r\n        .put('http://localhost:3004/products/'+productId,record)\r\n        .then((res)=>{\r\n            //console.log(\"product update\");\r\n            //console.log(res);\r\n            navigate(\"/show\"); //redirect\r\n        })\r\n    }\r\n    \r\n  return (\r\n    <div className=\"container\">\r\n    <h1>Edit Product</h1>\r\n    <form onSubmit={onsubmit}>\r\n    <input type=\"text\" name='title' onChange={myfunc} value={record.title} className=\"form-control\" /> <br />\r\n    <input type=\"text\" name='price' onChange={myfunc} value={record.price} className=\"form-control\" /> <br />\r\n    <input type=\"text\" name='category' onChange={myfunc} value={record.category} className=\"form-control\" /> <br />\r\n    <input type=\"text\" name='image' onChange={myfunc} value={record.image} className=\"form-control\" /> <br />\r\n    <textarea name='description' onChange={myfunc} value={record.description}></textarea> <br />\r\n    <button>Update</button>\r\n    </form>\r\n    </div>\r\n    \r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}